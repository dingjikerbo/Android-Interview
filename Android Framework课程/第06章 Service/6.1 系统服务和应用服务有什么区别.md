# 系统服务和应用服务有什么区别

1，了解系统服务和应用服务的使用方式
应用服务，bindService，然后拿到binder，封装成接口对象，然后调用
系统服务，getSystemService，拿到接口对象，然后调用

2，了解系统服务和应用服务的请求使用的基本原理
bindService，AMS找到service，返回binder句柄，如何根据binder句柄转成对应的接口对象
系统服务，从ServiceManager中查询到系统binder句柄，如何缓存serviceFetcher

3，了解系统服务和应用服务的启动和注册原理
系统服务，启动从SystemServer中启动，跑在SystemServer进程中，或单独一个进程
系统服务启动必备条件，开启binder，注册Binder线程，binder实体句柄
应用服务，启动是由AMS调起的，核心仍然是binder实体句柄，跑在应用进程
应用服务是不能注册到ServiceManager的，受权限控制

对系统服务，也讲讲整个启动原理，以serviceManager为例，或者以别的系统服务，除surfaceFlinger外的
对应用服务，讲讲bindService的整个原理


作用有什么不一样，两个东西有什么区别，肯定是和作用有关的，就像两盘菜，菜不一样，做法也就不一样。作用不一样，那么设计思路，工作原理也就不一样

系统服务是给应用提供服务的，应用服务同样是给应用提供服务的，只不过系统服务在应用启动之前就准备好了，系统服务管理应用组件，调用系统资源，所以系统服务权限是比应用服务大的。

既然系统服务在所有的应用启动前就准备好了，那么系统服务的启动方式一定是和应用是不一样的，
系统服务是由系统启动的，应用服务的启动是由应用发起的，交由系统服务来完成的。

系统服务不是四大组件，不过二者的实质都是binder句柄，只不过转接人不一样，一个是serviceManager，一个是systemServer进程中的AMS.

相同点，都是在各自的生命周期内为应用提供服务，只不过系统服务的生命周期是永远，应用的生命周期就难说了。此外，服务的载体都是binder句柄，通过IPC通信的，都是先拿到binder句柄，然后转成对应的服务接口对象，再IPC调用。

不同点
 - 使用方式，一个是bindService拿到Binder，在AMS中查找service组件，一个是serviceManager拿到Binder
 - 启动方式，一个是系统启动的时候启动的，在SystemServer中启动，或者单独进程启动，一个是应用发起的，在应用进程中启动，只不过是由AMS调起来的。可能要单独开应用进程。
 - 注册方式，一个是ServiceManager的addService注册的，系统权限才能注册。一个是bindService的服务是注册到AMS中的。
 - 